// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model user {
  address            String         @id @unique
  tokens             String
  countOfLobbys      Int            @default(0)
  userLobbyes        lobby[]
  userLobbyesHistory lobbyHistory[]
  news               String?
}

model lobby {
  id      Int
  creator String

  IERC20         String
  players        String
  deposit        String
  countOfPlayers Int
  nowInLobby     Int

  user user? @relation(fields: [creator], references: [address])

  @@id([creator, id])
}

model lobbyHistory {
  id      Int
  creator String

  IERC20         String
  players        String
  winner         String
  deposit        String
  countOfPlayers Int

  user user? @relation(fields: [creator], references: [address])

  @@id([creator, id])
}
